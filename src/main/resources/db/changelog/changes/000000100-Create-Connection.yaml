databaseChangeLog:
- property:
    name: now
    value: now()
    dbms: h2
- property:
    name: now
    value: current_timestamp
    dbms: postgresql
- property:
    name: floatType
    value: float4
    dbms: postgres, h2
- property:
    name: floatType
    value: float
    dbms: mysql, oracle, mssql
- changeSet:
    id: 000000100-Create-Connection
    author: alisle
    changes:
    - createTable:
        tableName: connection
        columns:
        - column:
            name: id
            type: uuid
            constraints:
              primaryKey: true
              nullable: false
        - column:
            name: connection_started
            type: timestamp
            constraints:
              nullable: false
        - column:
            name: connection_ended
            type: timestamp
            constraints:
                nullable: true
        - column:
            name: duration
            type: bigint
            constraints:
                nullable: true
        - column:
              name: protocol
              type: varchar(255)
              constraints:
                  nullable: true
        - column:
            name: source_address
            type: varchar(255)
            constraints:
              nullable: false
        - column:
            name: destination_address
            type: varchar(255)
            constraints:
              nullable: false
        - column:
            name: source_port
            type: integer
            constraints:
              nullable: false
        - column:
            name: destination_port
            type: integer
            constraints:
              nullable: false
        - column:
            name: username
            type: varchar(255)
            constraints:
              nullable: false
        - column:
            name: uid
            type: integer
            constraints:
                nullable: false
        - column:
            name: program_id
            type: bigint
            constraints:
                unique: true
                nullable: false

    - addForeignKeyConstraint:
        baseColumnNames: program_id
        baseTableName: connection
        constraintName: fk_connection_program_id
        referencedColumnNames: id
        referencedTableName: program



